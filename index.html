<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ADEXA Prototype</title>
  <meta name="color-scheme" content="dark" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

    :root {
      /* Brand from logo */
      --adexa-green: #004B40;
      --adexa-orange: #E87024;
      --adexa-cream: #FAF7ED;
      --adexa-dark: #002F2F;

      /* UI tokens */
      --bg: var(--adexa-dark);
      --card: #013a3a;
      --card-hover: #014646;
      --card-soft: #002a2a;
      --border: #026060;
      --text: #f0f5f2;
      --muted: #b3c7c7;
      --accent: var(--adexa-orange);
      --radius: 14px;
      --shadow: 0 4px 18px rgba(0,0,0,.35), 0 1px 4px rgba(0,0,0,.2);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Roboto', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: linear-gradient(180deg, var(--adexa-dark), #001f1f);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .app { max-width: 1060px; margin: 0 auto; padding: 24px; min-height: 100vh; display: flex; flex-direction: column; gap: 20px; }

    header.topbar { display: flex; align-items: center; gap: 16px; }
    .logo { width: 80px; height: auto; }
    .title { font-weight: 700; font-size: 1.6rem; color: var(--adexa-cream); letter-spacing: 0.5px; }
    .subtitle { color: var(--muted); font-size: 1rem; margin-top: 2px; }

    main.card { background: var(--card); border-radius: var(--radius); border: 1px solid var(--border); box-shadow: var(--shadow); padding: 24px; flex: 1; }

    nav.menu { display: flex; flex-direction: column; gap: 14px; }
    .item { display: grid; grid-template-columns: 40px 1fr auto; align-items: center; background: linear-gradient(180deg, var(--card), #012e2e); border: 1px solid var(--border); border-radius: var(--radius); padding: 16px; cursor: pointer; transition: all 0.2s ease; text-align: left; }
    .item:hover { background: var(--card-hover); border-color: var(--accent); transform: translateY(-1px); }
    .ico svg, .chev svg { width: 24px; height: 24px; stroke: var(--muted); }
    .label { font-weight: 600; font-size: 1.05rem; color: var(--adexa-cream); }

    section.page { display: none; opacity: 0; transform: translateY(5px); transition: opacity 0.25s ease, transform 0.25s ease; }
    section.page[aria-hidden="false"] { display: block; opacity: 1; transform: translateY(0); }

    .page-head { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
    .back { display: flex; align-items: center; gap: 6px; background: none; border: 1px solid var(--border); border-radius: 10px; color: var(--accent); font-weight: 600; padding: 8px 12px; cursor: pointer; }
    .page-title { flex: 1; text-align: center; font-size: 1.8rem; color: var(--adexa-cream); font-weight: 700; letter-spacing: 0.5px; }
    .lead { font-size: 1.1rem; line-height: 1.6; color: var(--muted); }

    /* --- Components --- */
    .grid { display: grid; gap: 16px; }
    .grid.cols-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
    .grid.cols-3 { grid-template-columns: repeat(3, minmax(0,1fr)); }
    .grid.cols-4 { grid-template-columns: repeat(4, minmax(0,1fr)); }
    @media (max-width: 900px) { .grid.cols-3, .grid.cols-4 { grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width: 600px) { .grid.cols-2, .grid.cols-3, .grid.cols-4 { grid-template-columns: 1fr; } }

    .card { background: var(--card-soft); border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
    .card h3 { margin: 0 0 8px 0; font-size: 1.05rem; color: var(--adexa-cream); }
    .muted { color: var(--muted); }

    .kpi { display: flex; align-items: baseline; gap: 8px; }
    .kpi .value { font-size: 1.8rem; font-weight: 800; }
    .kpi .unit { color: var(--muted); font-weight: 600; }

    .pill { display: inline-flex; align-items: center; gap: 6px; background: #073b2f; color: #c7fff2; border: 1px solid #0b6b56; border-radius: 999px; padding: 4px 10px; font-size: 0.85rem; }
    .pill.warn { background: #3a2d00; color: #ffe0a8; border-color: #6e5200; }
    .pill.ok { background: #083d0a; color: #c8ffc9; border-color: #0b6e0e; }

    .row { display: flex; gap: 10px; align-items: center; }

    .table { width: 100%; border-collapse: collapse; }
    .table th, .table td { padding: 10px 8px; text-align: left; border-bottom: 1px solid var(--border); }
    .table th { color: var(--muted); font-weight: 600; }

    .toolbar { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 12px; }
    .input, .select, .button { background: #001e1e; color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 10px 12px; font: inherit; }
    .button { background: linear-gradient(180deg, #004235, #00332b); border-color: #0c6; cursor: pointer; }
    .button.secondary { background: #002524; }
    .button:disabled { opacity: .5; cursor: not-allowed; }

    details { border: 1px solid var(--border); border-radius: 10px; background: #002424; padding: 10px 12px; }
    details + details { margin-top: 10px; }
    summary { cursor: pointer; font-weight: 600; color: var(--adexa-cream); }

    .note { font-size: .92rem; color: var(--muted); }

    @media (max-width: 560px) {
      .item { grid-template-columns: 32px 1fr 18px; gap: 12px; }
      .ico svg { width: 22px; height: 22px; }
      .chev svg { width: 18px; height: 18px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="topbar">
<img src="Adexa.svg" alt="ADEXA Logo" class="logo">      <div>
        <div class="title">ADEXA</div>
        <div class="subtitle">Australian Defence Export Accelerator</div>
      </div>
    </header>

    <main id="views" class="card">
      <!-- HOME -->
      <section id="view-home" class="page" aria-hidden="false">
        <nav class="menu">
          <button class="item" data-target="permits">
            <span class="ico"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/></svg></span>
            <span class="label">Permits</span>
            <span class="chev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></span>
          </button>
          <button class="item" data-target="monitoring">
            <span class="ico"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg></span>
            <span class="label">Monitoring</span>
            <span class="chev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></span>
          </button>
          <button class="item" data-target="funding">
            <span class="ico"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></span>
            <span class="label">Funding</span>
            <span class="chev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></span>
          </button>
          <button class="item" data-target="market-intel">
            <span class="ico"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg></span>
            <span class="label">Market Intel</span>
            <span class="chev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></span>
          </button>
          <button class="item" data-target="ip-tech">
            <span class="ico"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M2 12h3"/><path d="M19 12h3"/><path d="M12 2v3"/><path d="M12 19v3"/></svg></span>
            <span class="label">IP & Tech Transfer</span>
            <span class="chev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></span>
          </button>
          <button class="item" data-target="made-in-aus">
            <span class="ico"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg></span>
            <span class="label">MadeInAus Brand</span>
            <span class="chev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></span>
          </button>
        </nav>
      </section>

      <!-- SUB‑PAGES (IDs must match routes below) -->
      <section id="view-permits" class="page" aria-hidden="true">
        <div class="page-head"><button class="back" data-back>← Back</button><h2 class="page-title">Permits</h2></div>
        <p class="lead">Manage export permits end‑to‑end. Create, validate, submit and track—all in one place.</p>

        <div class="grid cols-3">
          <div class="card">
            <h3>Start new application</h3>
            <div class="toolbar">
              <select class="select" id="permitType">
                <option value="DTC">DTC Permit</option>
                <option value="ITAR">ITAR Exemption</option>
                <option value="Customs">Customs (S10/112)</option>
              </select>
              <input class="input" id="entity" placeholder="Consignee / End‑user" />
              <button class="button" id="btnDraft">Create draft</button>
            </div>
            <p class="note">Templates auto‑fill company details, goods list and previous consignee data.</p>
          </div>

          <div class="card">
            <h3>My drafts</h3>
            <table class="table" id="tblDrafts">
              <thead><tr><th>Ref</th><th>Type</th><th>Consignee</th><th>Updated</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>

          <div class="card">
            <h3>Status</h3>
            <div class="kpi"><span class="value" id="kOpen">0</span><span class="unit">open</span></div>
            <div class="row"><span class="pill ok">Approved <strong id="kApproved">0</strong></span><span class="pill warn">Actions <strong id="kActions">0</strong></span></div>
            <details><summary>Latest events</summary>
              <ul id="events" class="muted" style="padding-left:18px; margin:6px 0 0 0;"></ul>
            </details>
          </div>
        </div>
      </section>

      <section id="view-monitoring" class="page" aria-hidden="true">
        <div class="page-head"><button class="back" data-back>← Back</button><h2 class="page-title">Monitoring</h2></div>
        <p class="lead">Compliance monitoring and reporting with configurable checklists and alerts.</p>

        <div class="grid cols-4">
          <div class="card"><h3>KPI: Reporting on time</h3><div class="kpi"><span class="value" id="kOnTime">98</span><span class="unit">%</span></div><p class="muted">Past 90 days</p></div>
          <div class="card"><h3>KPI: Violations</h3><div class="kpi"><span class="value" id="kViol">0</span><span class="unit">open</span></div><p class="muted">All severities</p></div>
          <div class="card"><h3>KPI: Training</h3><div class="kpi"><span class="value" id="kCert">87</span><span class="unit">% certified</span></div><p class="muted">IP/T2 micro‑credentials</p></div>
          <div class="card"><h3>KPI: Reviews due</h3><div class="kpi"><span class="value" id="kDue">3</span><span class="unit">this week</span></div></div>
        </div>

        <div class="grid cols-2" style="margin-top:16px;">
          <div class="card">
            <h3>Checklist: Shipment compliance</h3>
            <div class="toolbar">
              <label class="muted" for="selShipment">Shipment</label>
              <select id="selShipment" class="select"><option>#AUS‑241101</option><option>#AUS‑241223</option></select>
              <button class="button secondary" id="btnExportPDF">Export PDF</button>
            </div>
            <ul class="muted" id="listChecklist" style="line-height:1.9; padding-left: 18px;">
              <li><input type="checkbox" /> Permit valid for part numbers</li>
              <li><input type="checkbox" /> End‑use statement attached</li>
              <li><input type="checkbox" /> Screening: Denied/Restricted parties</li>
              <li><input type="checkbox" /> Record retained (7 years)</li>
            </ul>
          </div>

          <div class="card">
            <h3>Alerts</h3>
            <table class="table" id="tblAlerts">
              <thead><tr><th>When</th><th>Severity</th><th>Message</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="view-funding" class="page" aria-hidden="true">
        <div class="page-head"><button class="back" data-back>← Back</button><h2 class="page-title">Funding</h2></div>
        <p class="lead">Discover federal/state grants, EFA finance, and partner programs. Save and compare.</p>

        <div class="card">
          <div class="toolbar">
            <input class="input" id="qGrant" placeholder="Search grants (e.g. export, R&D, defence)" />
            <select class="select" id="juris"><option>All jurisdictions</option><option>Federal</option><option>SA</option><option>QLD</option><option>NSW</option><option>NT</option></select>
            <select class="select" id="stage"><option>Any stage</option><option>Idea</option><option>Prototype</option><option>Export ready</option></select>
            <button class="button" id="btnFind">Find</button>
          </div>
          <table class="table" id="tblGrants">
            <thead><tr><th>Program</th><th>Jurisdiction</th><th>Closes</th><th>Support</th><th></th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <section id="view-market-intel" class="page" aria-hidden="true">
        <div class="page-head"><button class="back" data-back>← Back</button><h2 class="page-title">Market Intel</h2></div>
        <p class="lead">Signals, demand and Navigators. Target the right market with the right product.</p>

        <div class="grid cols-3">
          <div class="card">
            <h3>Target markets</h3>
            <div class="toolbar">
              <select class="select" id="region"><option>Asia‑Pacific</option><option>North America</option><option>Europe</option><option>Middle East</option></select>
              <input class="input" id="hs" placeholder="HS code / keyword" />
              <button class="button" id="btnScan">Scan</button>
            </div>
            <ul id="intelList" class="muted" style="padding-left:18px; line-height:1.8;"></ul>
          </div>

          <div class="card">
            <h3>Navigator support</h3>
            <p class="muted">Book time with a sector Navigator for case‑managed advice.</p>
            <button class="button" id="btnBook">Request session</button>
            <p class="note" style="margin-top:8px;">Typical response: &lt; 2 business days.</p>
          </div>

          <div class="card">
            <h3>Export readiness</h3>
            <div class="kpi"><span class="value" id="score">72</span><span class="unit">/100</span></div>
            <p class="muted">Based on checklist completion and certifications.</p>
            <button class="button secondary" id="btnImprove">View next actions</button>
          </div>
        </div>
      </section>

      <section id="view-ip-tech" class="page" aria-hidden="true">
        <div class="page-head"><button class="back" data-back>← Back</button><h2 class="page-title">IP &amp; Tech Transfer</h2></div>
        <p class="lead">Micro‑credentials, NDA generator and T2 controls to protect sovereign IP.</p>

        <div class="grid cols-2">
          <div class="card">
            <h3>Micro‑credentials</h3>
            <details open>
              <summary>IP Fundamentals (AU)</summary>
              <p class="muted">Basics of IP, confidentiality, licensing and export intersections.</p>
              <button class="button secondary">Start module</button>
            </details>
            <details>
              <summary>Technology Transfer (Allied)</summary>
              <p class="muted">Allied collaboration controls, agreements, and audit trails.</p>
              <button class="button secondary">Start module</button>
            </details>
            <details>
              <summary>Data Handling &amp; Markings</summary>
              <p class="muted">ISM/IRAP alignment, document markings and retention.</p>
              <button class="button secondary">Start module</button>
            </details>
          </div>

          <div class="card">
            <h3>NDA &amp; agreement generator</h3>
            <div class="toolbar">
              <input class="input" id="ndaParty" placeholder="Counterparty name" />
              <select class="select" id="ndaType"><option>Mutual NDA</option><option>One‑way NDA</option></select>
              <button class="button" id="btnNDA">Generate</button>
            </div>
            <p class="note">Outputs a pre‑filled draft with your company details and retention rules.</p>
          </div>
        </div>
      </section>

      <section id="view-made-in-aus" class="page" aria-hidden="true">
        <div class="page-head"><button class="back" data-back>← Back</button><h2 class="page-title">MadeInAus Brand</h2></div>
        <p class="lead">Use the mark with confidence. Get the checklist, assets and event pathway.</p>

        <div class="grid cols-2">
          <div class="card">
            <h3>Eligibility checklist</h3>
            <ul class="muted" style="line-height:1.9; padding-left:18px;">
              <li><input type="checkbox" /> Meets Australian content threshold</li>
              <li><input type="checkbox" /> Compliance with export controls</li>
              <li><input type="checkbox" /> Marketing use approved</li>
              <li><input type="checkbox" /> Catalogue entry prepared</li>
            </ul>
            <button class="button secondary">Validate eligibility</button>
          </div>

          <div class="card">
            <h3>Assets &amp; events</h3>
            <p class="muted">Download logos, guidelines and view Team Defence Australia events.</p>
            <div class="row" style="gap:8px; flex-wrap:wrap;">
              <button class="button">Download logo pack</button>
              <button class="button secondary">Brand guidelines</button>
              <button class="button secondary">Upcoming events</button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Router with guards + smoke tests + simple demo data
    (function () {
      const routes = {
        home: 'view-home',
        permits: 'view-permits',
        monitoring: 'view-monitoring',
        funding: 'view-funding',
        'market-intel': 'view-market-intel',
        'ip-tech': 'view-ip-tech',
        'made-in-aus': 'view-made-in-aus'
      };

      function getEl(id) { const el = document.getElementById(id); if(!el) console.warn('[ADEXA] Missing #'+id); return el; }
      function hideAll() { Object.values(routes).forEach(id => { const el = getEl(id); if (el) el.setAttribute('aria-hidden','true'); }); }
      function show(routeKey, pushHash=false) { const id = routes[routeKey] || routes.home; const el = getEl(id); if(!el) return; hideAll(); el.setAttribute('aria-hidden','false'); if(pushHash){ const h = routeKey==='home'?'#/':`#/${routeKey}`; history.pushState({r:routeKey},'',h);} }

      document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('[data-target]').forEach(b => b.addEventListener('click', () => show(b.dataset.target, true)));
        document.querySelectorAll('[data-back]').forEach(b => b.addEventListener('click', () => show('home', true)));
        window.addEventListener('popstate', e => { const r=(e.state&&e.state.r)||location.hash.replace('#/','')||'home'; show(r,false); });
        show(location.hash.replace('#/','')||'home', false);

        // --- Demo data population ---
        // Permits
        const drafts = [
          {ref:'ADEXA-0012', type:'DTC', ent:'Flight One Academy', upd:'12 Oct'},
          {ref:'ADEXA-0045', type:'Customs', ent:'RAAF STT', upd:'05 Oct'}
        ];
        const tb = document.querySelector('#tblDrafts tbody');
        if (tb) tb.innerHTML = drafts.map(d=>`<tr><td>${d.ref}</td><td>${d.type}</td><td>${d.ent}</td><td>${d.upd}</td></tr>`).join('');
        const events = ['DTC ADEXA-0012 submitted','Customs ADEXA-0045 awaiting docs'];
        const ev = document.getElementById('events');
        if (ev) ev.innerHTML = events.map(e=>`<li>${e}</li>`).join('');
        const kOpen = document.getElementById('kOpen'); if(kOpen) kOpen.textContent = String(drafts.length);
        const kApproved = document.getElementById('kApproved'); if(kApproved) kApproved.textContent = '3';
        const kActions = document.getElementById('kActions'); if(kActions) kActions.textContent = '1';
        const btnDraft = document.getElementById('btnDraft');
        if (btnDraft) btnDraft.addEventListener('click', () => alert('Draft created (demo).'));

        // Monitoring
        const al = document.querySelector('#tblAlerts tbody');
        if (al) al.innerHTML = [
          {when:'Today', sev:'Medium', msg:'Checklist incomplete on #AUS‑241223'},
          {when:'Yesterday', sev:'Low', msg:'Upcoming training expiry: 2 users'},
        ].map(a=>`<tr><td>${a.when}</td><td>${a.sev}</td><td>${a.msg}</td></tr>`).join('');

        // Funding
        const gbody = document.querySelector('#tblGrants tbody');
        function loadGrants(){
          const data = [
            {p:'Export Market Dev. Grants (EMDG)', j:'Federal', c:'Rolling', s:'Matched funding'},
            {p:'Defence Industry Grant – Capability', j:'Federal', c:'Q2', s:'$250k cap'},
            {p:'SA Export Accelerator (SAEA)', j:'SA', c:'Q1', s:'Tiered support'}
          ];
          if (gbody) gbody.innerHTML = data.map(x=>`<tr><td>${x.p}</td><td>${x.j}</td><td>${x.c}</td><td>${x.s}</td><td><button class="button secondary">Save</button></td></tr>`).join('');
        }
        loadGrants();
        const btnFind = document.getElementById('btnFind'); if(btnFind) btnFind.addEventListener('click', loadGrants);

        // Intel
        const intelList = document.getElementById('intelList');
        const btnScan = document.getElementById('btnScan');
        function loadIntel(){ if(intelList) intelList.innerHTML = ['Rising demand for training simulators','Offset opportunities with OEM partner','Lower barrier for MRO services in APAC'].map(x=>`<li>${x}</li>`).join(''); }
        loadIntel(); if(btnScan) btnScan.addEventListener('click', loadIntel);

        const btnNDA = document.getElementById('btnNDA'); if(btnNDA) btnNDA.addEventListener('click',()=>alert('NDA generated (demo).'));

        // --- Smoke tests (ensure content exists) ---
        console.assert(document.getElementById('tblDrafts'), '[Test] Permits table present');
        console.assert(document.getElementById('tblGrants'), '[Test] Funding table present');
        console.assert(document.getElementById('intelList'), '[Test] Intel list present');
      });
    })();
  </script>
</body>
</html>

